/*
let biography          = [{"bookId":"1","bookName":"Workbook","bookType":"Biography","bookUrl":"booksPic/biography/61YrnqgVCZL.png","bookPrice":"40"},{"bookId":"2","bookName":"Let me tell abount jasper","bookType":"Biography","bookUrl":"booksPic/biography/71wTyzmQ-3L.png","bookPrice":"45"},{"bookId":"3","bookName":"finding the bright side","bookType":"Biography","bookUrl":"booksPic/biography/71ZIbyVPvXL.png","bookPrice":"20"},{"bookId":"4","bookName":"the mothers and daughters of the bible","bookType":"Biography","bookUrl":"booksPic/biography/81DSi4ECwyL.png","bookPrice":"30"},{"bookId":"5","bookName":"really important stuff my dog has taught me","bookType":"Biography","bookUrl":"booksPic/biography/81efRw0BIrL.png","bookPrice":"20"},{"bookId":"6","bookName":"finding home","bookType":"Biography","bookUrl":"booksPic/biography/81gFmWxZEmL.png","bookPrice":"15"},{"bookId":"7","bookName":"finding me","bookType":"Biography","bookUrl":"booksPic/biography/81phy6wvG-L.png","bookPrice":"10"},{"bookId":"8","bookName":"just tyrus","bookType":"Biography","bookUrl":"booksPic/biography/81Ynvpqm3KS.png","bookPrice":"25"}]
let dictionary         = [{"bookId":"1","bookName":"sight words","bookType":"Dictionary","bookUrl":"booksPic/dictionary/51jR6z19bKL.png","bookPrice":"40"},{"bookId":"2","bookName":"fun with numbers lertter","bookType":"Dictionary","bookUrl":"booksPic/dictionary/51R36yyQ3HL.png","bookPrice":"45"},{"bookId":"3","bookName":"a letter from your teacher","bookType":"Dictionary","bookUrl":"booksPic/dictionary/61AqjgMxpLL.png","bookPrice":"20"},{"bookId":"4","bookName":"handwriting practice workbook","bookType":"Dictionary","bookUrl":"booksPic/dictionary/61sL4t4w9LL.png","bookPrice":"30"},{"bookId":"5","bookName":"stop over thinking","bookType":"Dictionary","bookUrl":"booksPic/dictionary/71Lvac+tHQL.png","bookPrice":"20"},{"bookId":"6","bookName":"my first learn to write workbook","bookType":"Dictionary","bookUrl":"booksPic/dictionary/81Ekpv7AwKL.png","bookPrice":"15"},{"bookId":"7","bookName":"the beginners bible","bookType":"Dictionary","bookUrl":"booksPic/dictionary/81fj0Z4n9jL.png","bookPrice":"10"},{"bookId":"8","bookName":"my first book of baby signs","bookType":"Dictionary","bookUrl":"booksPic/dictionary/81m6us1KNaL.png","bookPrice":"25"}]
let classic            = [{"bookId":"1","bookName":"sea of tranquility","bookType":"Classics","bookUrl":"booksPic/classics/B14B6ntSoUS.png","bookPrice":"40"},{"bookId":"2","bookName":"song of achilles","bookType":"Classics","bookUrl":"booksPic/classics/A1Em090aL6L.png","bookPrice":"45"},{"bookId":"3","bookName":"love other words","bookType":"Classics","bookUrl":"booksPic/classics/41qlslqAh-L.png","bookPrice":"20"},{"bookId":"4","bookName":"alone with you","bookType":"Classics","bookUrl":"booksPic/classics/51V4ero2SCL.png","bookPrice":"30"},{"bookId":"5","bookName":"the silent patient","bookType":"Classics","bookUrl":"booksPic/classics/61Bdp7XZhDL.png","bookPrice":"20"},{"bookId":"6","bookName":"lessons in chemistry","bookType":"Classics","bookUrl":"booksPic/classics/71sPouk+bgL.png","bookPrice":"15"},{"bookId":"7","bookName":"beginner book collection","bookType":"Classics","bookUrl":"booksPic/classics/81FxtWFGiiL.png","bookPrice":"10"},{"bookId":"8","bookName":"a court of thorns and roses","bookType":"Classics","bookUrl":"booksPic/classics/917MsoDE-nL.png","bookPrice":"25"}]
let crime              = [{"bookId":"1","bookName":"the one minute gratitude journal","bookType":"Crime","bookUrl":"booksPic/crime/716wxEjNs-L.png","bookPrice":"40"},{"bookId":"2","bookName":"mere christianity","bookType":"Crime","bookUrl":"booksPic/crime/71H0Y3xiZKL.png","bookPrice":"45"},{"bookId":"3","bookName":"3 minute positivity journal","bookType":"Crime","bookUrl":"booksPic/crime/71jFRagkvBL.png","bookPrice":"20"},{"bookId":"4","bookName":"the book of delights","bookType":"Crime","bookUrl":"booksPic/crime/71lWQNC4uCL.png","bookPrice":"30"},{"bookId":"5","bookName":"carnival of snackery","bookType":"Crime","bookUrl":"booksPic/crime/71nj9ROODiL.png","bookPrice":"20"},{"bookId":"6","bookName":"these precious days","bookType":"Crime","bookUrl":"booksPic/crime/81dzcYX7gpS.png","bookPrice":"15"},{"bookId":"7","bookName":"start with gratitude","bookType":"Crime","bookUrl":"booksPic/crime/81ex95dv2dL.png","bookPrice":"10"},{"bookId":"8","bookName":"hey girl","bookType":"Crime","bookUrl":"booksPic/crime/91c1SgaqyKL.png","bookPrice":"25"}]
let fantasy            = [{"bookId":"1","bookName":"what of expect the first year","bookType":"Fantasy","bookUrl":"booksPic/healty/91rruvLRl-L.png","bookPrice":"40"},{"bookId":"2","bookName":"the home edit","bookType":"Fantasy","bookUrl":"booksPic/healty/910SEF8J1NL.png","bookPrice":"45"},{"bookId":"3","bookName":"the whole brain child","bookType":"Fantasy","bookUrl":"booksPic/healty/61CaUEPpF3L.png","bookPrice":"20"},{"bookId":"4","bookName":"the body keeps the score","bookType":"Fantasy","bookUrl":"booksPic/healty/61NdJMwAThS.png","bookPrice":"30"},{"bookId":"5","bookName":"it didn't start with you","bookType":"Fantasy","bookUrl":"booksPic/healty/61zBUu6cgBL.png","bookPrice":"20"},{"bookId":"6","bookName":"stop over thinking","bookType":"Fantasy","bookUrl":"booksPic/healty/71Lvac+tHQL.png","bookPrice":"15"},{"bookId":"7","bookName":"self love workbook for women","bookType":"Fantasy","bookUrl":"booksPic/healty/81k17unItGL.png","bookPrice":"10"},{"bookId":"8","bookName":"baby sign language","bookType":"Fantasy","bookUrl":"booksPic/healty/81UBpZdE+FL.png","bookPrice":"25"}]
let noval              = [{"bookId":"1","bookName":"origin","bookType":"Noval","bookUrl":"booksPic/history/41XEg9r4UcL.png","bookPrice":"40"},{"bookId":"2","bookName":"pocket ref","bookType":"Noval","bookUrl":"booksPic/history/61AjhYCwikL.png","bookPrice":"45"},{"bookId":"3","bookName":"why we sleep","bookType":"Noval","bookUrl":"booksPic/history/61DsrvoY1gL.png","bookPrice":"20"},{"bookId":"4","bookName":"meditations","bookType":"Noval","bookUrl":"booksPic/history/61j5s+oFqaL.png","bookPrice":"30"},{"bookId":"5","bookName":"braiding sweetgrass","bookType":"Noval","bookUrl":"booksPic/history/71OgjPcg6-L.png","bookPrice":"20"},{"bookId":"6","bookName":"the man from the future","bookType":"Noval","bookUrl":"booksPic/history/81QugSol+WL.png","bookPrice":"15"},{"bookId":"7","bookName":"elon musk","bookType":"Noval","bookUrl":"booksPic/history/5112YFsXIJL.png","bookPrice":"10"},{"bookId":"8","bookName":"a brief history of time","bookType":"Noval","bookUrl":"booksPic/history/A1xkFZX5k-L.png","bookPrice":"25"}]
let science            = [{"bookId":"1","bookName":"thinking fast and slow","bookType":"Science","bookUrl":"booksPic/science/61fdrEuPJwL.png","bookPrice":"40"},{"bookId":"2","bookName":"gift of fear","bookType":"Science","bookUrl":"booksPic/science/61P3Dq33sxL.png","bookPrice":"45"},{"bookId":"3","bookName":"quiet","bookType":"Science","bookUrl":"booksPic/science/71K8Ji-Dt2L.png","bookPrice":"20"},{"bookId":"4","bookName":"crystals for beginners","bookType":"Science","bookUrl":"booksPic/science/81CMKSCOz7L.png","bookPrice":"30"},{"bookId":"5","bookName":"the healing garden","bookType":"Science","bookUrl":"booksPic/science/81ekHWX54yL.png","bookPrice":"20"},{"bookId":"6","bookName":"the war on the west","bookType":"Science","bookUrl":"booksPic/science/81GY-i6D1FL.png","bookPrice":"15"},{"bookId":"7","bookName":"floriography","bookType":"Science","bookUrl":"booksPic/science/81LcCQJJGuL.png","bookPrice":"10"},{"bookId":"8","bookName":"poison","bookType":"Science","bookUrl":"booksPic/science/81w4i4QZrGL.png","bookPrice":"25"}]
let history            = [{"bookId":"1","bookName":"master manipulator","bookType":"History","bookUrl":"booksPic/vaccianed/71pDh5ItViL.png","bookPrice":"40"},{"bookId":"2","bookName":"herbal antibiotics and antivirals","bookType":"History","bookUrl":"booksPic/vaccianed/71SGL1CXToL.png","bookPrice":"45"},{"bookId":"3","bookName":"on immunity an inoculation","bookType":"History","bookUrl":"booksPic/vaccianed/71-Ta5BIwoL.png","bookPrice":"20"},{"bookId":"4","bookName":"herbal antibiotics","bookType":"History","bookUrl":"booksPic/vaccianed/81a2L9U52HL.png","bookPrice":"30"},{"bookId":"5","bookName":"pandemia","bookType":"History","bookUrl":"booksPic/vaccianed/81BTJMC2IPL.png","bookPrice":"20"},{"bookId":"6","bookName":"herbal medic","bookType":"History","bookUrl":"booksPic/vaccianed/91r-b7xd5zL.png","bookPrice":"15"},{"bookId":"7","bookName":"pandora's lab","bookType":"History","bookUrl":"booksPic/vaccianed/711KDFNXEgL.png","bookPrice":"10"},{"bookId":"8","bookName":"vaccine epidemic","bookType":"History","bookUrl":"booksPic/vaccianed/7134-1ZTB-L.png","bookPrice":"25"}]
*/

const { MongoClient } = require('./mongodb');

async function main()
{
    const url = "mongodb+srv://admin:145632789@cluster0.ezgjv.mongodb.net/myFirstDatabase?retryWrites=true&w=majority";
    const client = new MongoClient(url);

    try {
        await client.connect();
        //await createListing(client);
        await listDbValue(client);
    } catch (error) {
        console.error(error);
    }
    finally
    {
        await client.close();
    }
}

main().catch(console.error);

async function listDatabases(client)
{
    const databasesList = await client.db().admin().listDatabases();
    
    console.log("Databases: ");
    databasesList.databases.forEach(db => {
        console.log(db.name);
    });
}

async function listDbValue(client)
{
    const cursor = await client.db("library").collection("bookList").find({
        "bookType":{$eq:"Dictionary"}
    });

    const result = await cursor.toArray();

    if(result.length > 0)
    {
        console.log(result);
    }

}

async function createListing(client)
{
    var allBookList = [];

    allBookList = allBookList.concat(biography);
    allBookList = allBookList.concat(dictionary);
    allBookList = allBookList.concat(classic);
    allBookList = allBookList.concat(crime);
    allBookList = allBookList.concat(fantasy);
    allBookList = allBookList.concat(noval);
    allBookList = allBookList.concat(science);
    allBookList = allBookList.concat(history);

    const result = await client.db("library").collection("bookList").insertMany(allBookList);

    console.log(result.insertedCount);

    console.log(result.insertedIds);
}